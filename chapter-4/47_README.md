## 本章小结
<hr/>
<div style="text-indent:2em;">
<p>在本章，我们学到了在部署ElasticSearch集群时如何选择恰当数量的分片和分片副本；也了解了在索引和搜索过程中routing是如何起作用的；我们也见识了新的shard allocator是如何起作用的，也清楚了如何根据需求来配置它。我们也能够根据需求配置allocation mechanism，也学会了如何使用query execution preference功能来实现在特定的节点上执行特定的操作。最后，我们用相关知识配置了一个真实场景的集群，并且能够依据需求进行扩展</p>
<p>在下一章，我们将更多的关注ElasticSearch的配置选项上：我们将学习如何配置内存使用，并且选择合适的directory实现。我们将探究Gateway和Discover模块的配置，了解其重要地位的原因。此外，我们将学习如何配置索引恢复功能，从Lucene的段文件中能够得到什么信息。最后将学习ElasticSearch的缓存功能。</p>
</div>
